
<!DOCTYPE html>
<html lang="pt-BR" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calculadora WingCell - Refinada</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Montserrat', sans-serif;
      margin: 0;
      background: #f5f5f5;
      color: #333;
    }
    nav {
      display: flex;
      justify-content: center;
      gap: 1rem;
      padding: 1rem;
      background: #00c9a7;
      position: sticky;
      top: 0;
    }
    nav button {
      background: none;
      border: none;
      font-weight: bold;
      position: relative;
      cursor: pointer;
    }
    nav button .tooltip {
      visibility: hidden;
      background-color: #333;
      color: #fff;
      padding: 0.3rem 0.6rem;
      border-radius: 5px;
      font-size: 0.8rem;
      position: absolute;
      bottom: -2.2rem;
      left: 50%;
      transform: translateX(-50%);
      white-space: nowrap;
    }
    nav button:hover .tooltip {
      visibility: visible;
    }
    .section {
      display: none;
      padding: 2rem;
      max-width: 800px;
      margin: auto;
    }
    .section.active {
      display: block;
    }
    input, select {
      display: block;
      width: 100%;
      max-width: 300px;
      margin: 1rem auto;
      padding: 0.5rem;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    button.action {
      display: block;
      margin: 1rem auto;
      padding: 0.7rem 1.5rem;
      background: #00c9a7;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
    }
    .result {
      background: #e0fff0;
      padding: 1rem;
      margin-top: 1rem;
      border-radius: 10px;
    }
  </style>
</head>
<body>

<nav>
  <button onclick="showSection('simples')">Simples<span class="tooltip">Cálculo de produto simples</span></button>
  <button onclick="showSection('kit')">Kit/Combo<span class="tooltip">Montagem de kits</span></button>
  <button onclick="showSection('comparador')">Comparador<span class="tooltip">Compare marketplaces</span></button>
  <button onclick="showSection('historico')">Histórico<span class="tooltip">Ver simulações anteriores</span></button>
</nav>

<section id="comparador" class="section active">
  <h2>⚖️ Comparador de Marketplaces</h2>
  <input type="number" id="custo-comparador" placeholder="Custo do Produto" />
  <button class="action" onclick="comparar()">Comparar</button>
  <div id="resultado-comparador" class="result"></div>
</section>

<script>
const taxas = {
  mercado_livre: { classico: 0.16, frete: 17.90 },
  shopee: { classico: 0.14, frete: 14.99 },
  magalu: { classico: 0.15, frete: 16.50 }
};

function showSection(id) {
  document.querySelectorAll('.section').forEach(el => el.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function comparar() {
  const custo = parseFloat(document.getElementById("custo-comparador").value || 0);
  if (!custo) return alert("Informe o custo do produto.");
  let resultado = "<h3>Comparação por Margem</h3>";

  for (const [plataforma, info] of Object.entries(taxas)) {
    resultado += `<h4>${plataforma.replace("_", " ").toUpperCase()}</h4>`;
    for (let margem = 10; margem <= 100; margem += 10) {
      const taxa = info.classico;
      const frete = info.frete;
      const preco = (custo + frete) / (1 - taxa) * (1 + margem / 100);
      const lucro = preco - custo - frete - preco * taxa;
      if (lucro > 0) {
        resultado += `<p><strong>${margem}%:</strong> Preço: R$ ${preco.toFixed(2)} | Lucro: R$ ${lucro.toFixed(2)}</p>`;
      }
    }
  }

  document.getElementById("resultado-comparador").innerHTML = resultado;
}
</script>

</body>
</html>
